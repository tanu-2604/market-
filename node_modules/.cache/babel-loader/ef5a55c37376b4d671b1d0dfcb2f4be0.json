{"ast":null,"code":"import { ADD_TO_CART, GET_NUMBERS_BASKET, INCREASE_QUANTITY, DECREASE_QUANTITY, CLEAR_PRODUCT } from '../actions/types';\nconst initialState = {\n  cart: 0,\n  cartPrice: 0,\n  cartProduct: []\n};\nexport default ((state = initialState, action) => {\n  let productSelected = \"\";\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      console.log(action.payload);\n      return { ...state,\n        cart: state.cart + 1,\n        cartProduct: [...state.cartProduct, action.payload],\n        cartPrice: state.cartPrice + action.payload.price\n      };\n\n    case GET_NUMBERS_BASKET:\n      return { ...state\n      };\n\n    case INCREASE_QUANTITY:\n      productSelected = { ...state.products[action.payload]\n      };\n      productSelected.numbers += 1;\n      return { ...state,\n        cart: state.cart + 1,\n        cartPrice: state.cartPrice + state.products[action.payload].price,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    case DECREASE_QUANTITY:\n      productSelected = { ...state.products[action.payload]\n      };\n      let newCartPrice = 0;\n      let newCartNumbers = 0;\n\n      if (productSelected.numbers === 0) {\n        productSelected.numbers = 0;\n        newCartPrice = state.cartPrice;\n        newCartNumbers = state.cart;\n      } else {\n        productSelected.numbers -= 1;\n        newCartPrice = state.cartPrice - state.products[action.payload].price;\n        newCartNumbers = state.cart - 1;\n      }\n\n      return { ...state,\n        cart: newCartNumbers,\n        cartPrice: newCartPrice,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    case CLEAR_PRODUCT:\n      productSelected = { ...state.products[action.payload]\n      };\n      let numbersBackup = productSelected.numbers;\n      productSelected.numbers = 0;\n      productSelected.inCart = false;\n      return { ...state,\n        cartPrice: state.cartPrice - numbersBackup * productSelected.price,\n        cart: state.cart - numbersBackup,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/tanu/bazar12/src/reducers/productReducer.js"],"names":["ADD_TO_CART","GET_NUMBERS_BASKET","INCREASE_QUANTITY","DECREASE_QUANTITY","CLEAR_PRODUCT","initialState","cart","cartPrice","cartProduct","state","action","productSelected","type","console","log","payload","price","products","numbers","newCartPrice","newCartNumbers","numbersBackup","inCart"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,kBAAtB,EAA0CC,iBAA1C,EAA6DC,iBAA7D,EAAgFC,aAAhF,QAAqG,kBAArG;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE,CADW;AAEjBC,EAAAA,SAAS,EAAE,CAFM;AAGjBC,EAAAA,WAAW,EAAE;AAHI,CAArB;AAMA,gBAAe,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC7C,MAAIC,eAAe,GAAG,EAAtB;;AACA,UAAQD,MAAM,CAACE,IAAf;AACI,SAAKZ,WAAL;AACIa,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,OAAnB;AACA,aAAO,EACH,GAAGN,KADA;AAEHH,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,GAAa,CAFhB;AAGHE,QAAAA,WAAW,EAAE,CAAC,GAAGC,KAAK,CAACD,WAAV,EAAuBE,MAAM,CAACK,OAA9B,CAHV;AAIHR,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,GAAkBG,MAAM,CAACK,OAAP,CAAeC;AAJzC,OAAP;;AAOJ,SAAKf,kBAAL;AACI,aAAO,EACH,GAAGQ;AADA,OAAP;;AAIJ,SAAKP,iBAAL;AACIS,MAAAA,eAAe,GAAG,EAAE,GAAGF,KAAK,CAACQ,QAAN,CAAeP,MAAM,CAACK,OAAtB;AAAL,OAAlB;AACAJ,MAAAA,eAAe,CAACO,OAAhB,IAA2B,CAA3B;AACA,aAAO,EACH,GAAGT,KADA;AAEHH,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,GAAa,CAFhB;AAGHC,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,GAAkBE,KAAK,CAACQ,QAAN,CAAeP,MAAM,CAACK,OAAtB,EAA+BC,KAHzD;AAIHC,QAAAA,QAAQ,EAAE,EACN,GAAGR,KAAK,CAACQ,QADH;AAEN,WAACP,MAAM,CAACK,OAAR,GAAkBJ;AAFZ;AAJP,OAAP;;AAUJ,SAAKR,iBAAL;AACIQ,MAAAA,eAAe,GAAG,EAAE,GAAGF,KAAK,CAACQ,QAAN,CAAeP,MAAM,CAACK,OAAtB;AAAL,OAAlB;AACA,UAAII,YAAY,GAAG,CAAnB;AACA,UAAIC,cAAc,GAAG,CAArB;;AACA,UAAIT,eAAe,CAACO,OAAhB,KAA4B,CAAhC,EAAmC;AAC/BP,QAAAA,eAAe,CAACO,OAAhB,GAA0B,CAA1B;AACAC,QAAAA,YAAY,GAAGV,KAAK,CAACF,SAArB;AACAa,QAAAA,cAAc,GAAGX,KAAK,CAACH,IAAvB;AACH,OAJD,MAKK;AACDK,QAAAA,eAAe,CAACO,OAAhB,IAA2B,CAA3B;AACAC,QAAAA,YAAY,GAAGV,KAAK,CAACF,SAAN,GAAkBE,KAAK,CAACQ,QAAN,CAAeP,MAAM,CAACK,OAAtB,EAA+BC,KAAhE;AACAI,QAAAA,cAAc,GAAGX,KAAK,CAACH,IAAN,GAAa,CAA9B;AACH;;AACD,aAAO,EACH,GAAGG,KADA;AAEHH,QAAAA,IAAI,EAAEc,cAFH;AAGHb,QAAAA,SAAS,EAAEY,YAHR;AAIHF,QAAAA,QAAQ,EAAE,EACN,GAAGR,KAAK,CAACQ,QADH;AAEN,WAACP,MAAM,CAACK,OAAR,GAAkBJ;AAFZ;AAJP,OAAP;;AAUJ,SAAKP,aAAL;AACIO,MAAAA,eAAe,GAAG,EAAE,GAAGF,KAAK,CAACQ,QAAN,CAAeP,MAAM,CAACK,OAAtB;AAAL,OAAlB;AACA,UAAIM,aAAa,GAAGV,eAAe,CAACO,OAApC;AACAP,MAAAA,eAAe,CAACO,OAAhB,GAA0B,CAA1B;AACAP,MAAAA,eAAe,CAACW,MAAhB,GAAyB,KAAzB;AACA,aAAO,EACH,GAAGb,KADA;AAEHF,QAAAA,SAAS,EAAEE,KAAK,CAACF,SAAN,GAAmBc,aAAa,GAAGV,eAAe,CAACK,KAF3D;AAGHV,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,GAAae,aAHhB;AAIHJ,QAAAA,QAAQ,EAAE,EACN,GAAGR,KAAK,CAACQ,QADH;AAEN,WAACP,MAAM,CAACK,OAAR,GAAkBJ;AAFZ;AAJP,OAAP;;AAUJ;AACI,aAAOF,KAAP;AApER;AAsEH,CAxED","sourcesContent":["import { ADD_TO_CART, GET_NUMBERS_BASKET, INCREASE_QUANTITY, DECREASE_QUANTITY, CLEAR_PRODUCT } from '../actions/types';\r\n\r\nconst initialState = {\r\n    cart: 0,\r\n    cartPrice: 0,\r\n    cartProduct: []\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    let productSelected = \"\";\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            console.log(action.payload);\r\n            return {\r\n                ...state,\r\n                cart: state.cart + 1,\r\n                cartProduct: [...state.cartProduct, action.payload],\r\n                cartPrice: state.cartPrice + action.payload.price,\r\n\r\n            }\r\n        case GET_NUMBERS_BASKET:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case INCREASE_QUANTITY:\r\n            productSelected = { ...state.products[action.payload] }\r\n            productSelected.numbers += 1;\r\n            return {\r\n                ...state,\r\n                cart: state.cart + 1,\r\n                cartPrice: state.cartPrice + state.products[action.payload].price,\r\n                products: {\r\n                    ...state.products,\r\n                    [action.payload]: productSelected\r\n                }\r\n            }\r\n\r\n        case DECREASE_QUANTITY:\r\n            productSelected = { ...state.products[action.payload] }\r\n            let newCartPrice = 0;\r\n            let newCartNumbers = 0;\r\n            if (productSelected.numbers === 0) {\r\n                productSelected.numbers = 0\r\n                newCartPrice = state.cartPrice\r\n                newCartNumbers = state.cart\r\n            }\r\n            else {\r\n                productSelected.numbers -= 1;\r\n                newCartPrice = state.cartPrice - state.products[action.payload].price\r\n                newCartNumbers = state.cart - 1\r\n            }\r\n            return {\r\n                ...state,\r\n                cart: newCartNumbers,\r\n                cartPrice: newCartPrice,\r\n                products: {\r\n                    ...state.products,\r\n                    [action.payload]: productSelected\r\n                }\r\n            }\r\n\r\n        case CLEAR_PRODUCT:\r\n            productSelected = { ...state.products[action.payload] };\r\n            let numbersBackup = productSelected.numbers;\r\n            productSelected.numbers = 0;\r\n            productSelected.inCart = false\r\n            return {\r\n                ...state,\r\n                cartPrice: state.cartPrice - (numbersBackup * productSelected.price),\r\n                cart: state.cart - numbersBackup,\r\n                products: {\r\n                    ...state.products,\r\n                    [action.payload]: productSelected\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}